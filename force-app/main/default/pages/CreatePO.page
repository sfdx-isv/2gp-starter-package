<apex:page controller="CreatePOController">
    <style>
        .left-align label, .left-align input, .left-align select {
            float: left;
        }
    </style>
    <apex:form>
        <apex:pageBlock id="approvedVendorTable" title="New Purchase Order">
            <apex:pageMessages />
            <apex:pageBlockSection columns="1" title="Select Vendor (Press ENTER to Search)" collapsible="false">
                <apex:inputText value="{!searchString}" onkeypress="return executeOnEnter(event)" label="Find Approved Vendor by Name" />
                <apex:actionFunction name="executeAction" action="{!search}" rerender="approvedVendorTable" />
            </apex:pageBlockSection>
            <apex:pageBlockTable value="{!approvedVendors}" var="approvedVendor" rendered="{!NOT(ISNULL(approvedVendors))}">
                <apex:column>
                    <apex:facet name="header">Select</apex:facet>
                    <apex:selectRadio value="{!selectedVendorId}">
                        <apex:selectOption itemValue="{!approvedVendor.acc.Id}" itemLabel="" />
                    </apex:selectRadio>
                </apex:column>
                <apex:column>
                    <apex:facet name="header">Vendor Name</apex:facet>
                    <apex:outputText value="{!approvedVendor.acc.Name}" />
                </apex:column>
            </apex:pageBlockTable>
            <apex:pageBlockSection columns="1" title="Enter Purchase Details" collapsible="false">
                <apex:inputTextarea value="{!description}" label="Description of Purchase" />
                <apex:inputText value="{!totalCost}" label="Total Cost of Purchase" />
            </apex:pageBlockSection>
            <apex:commandButton value="Create Purchase Order" action="{!save}" />
        </apex:pageBlock>
    </apex:form>
    <script>
        function executeOnEnter(event) {
            // Check if the key pressed is the RETURN key (key code 13)
            if (event.keyCode === 13) {
                executeAction();  // This is the name of the apex:actionFunction
                return false;     // Prevents the default form submission
            }
            return true;
        }
    </script>
</apex:page>